<%

function headTpl(name) {
    var sort = root.view.sort;
    %><th>
        <%= i18n.t('tutorial.user.' + name) %>
        <% if (sort && sort.attribute === name) { %>
            <% if (sort.value === 'asc') { %>
                <i class="fa fa-sort-desc" data-set="sort" data-value='{"attribute": "<%= name %>", "value": "desc"}'></i>
            <% } else { %>
                <i class="fa fa-sort-asc" data-set="sort" data-value='{"attribute": "<%= name %>", "value": "asc"}'></i>
            <% } %>
        <% } else { %>
            <i class="fa fa-sort" data-set="sort" data-value='{"attribute": "<%= name %>", "value": "asc"}'></i>
        <% } %>
    </th><%
}

var i18n = require('umd-stdlib/core/i18next');
var application = require('application');

var createUrl = application.getUrl('controller', 'default', {
    module: 'tutorial',
    controller: 'hello',
    action: 'edit',
    ack: root.view.ack
});

%><div class="list">
    <h1><%= i18n.t('tutorial.hello.list.title') %></h1>
    <a class="btn btn-default popin" href="<%= createUrl %>">
        <%= i18n.t('form.create') %>
    </a>
    <table class="table striped">
        <thead>
            <tr>
                <% headTpl('firstname') %>
                <% headTpl('lastname') %>
                <% headTpl('occupation') %>
                <% headTpl('country') %>
                <th>
                    <tr>&nbsp;</tr>
                </th>
            </tr>
        </thead>
        <tbody class="users"></tbody>
    </table>
</div>